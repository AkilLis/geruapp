["d6e793bb3f3c0314a7513967b0a247f7c785f95b","dd9b81858184f88726ccc8d896afffe3c1642532",["react","tcomb-validation","./util"],[113,214,335],{"version":3,"sources":["/var/www/geruapp/node_modules/tcomb-form-native/lib/components.js"],"names":["SOURCE","nooptions","Object","freeze","noop","noobj","noarr","Nil","getFormComponent","type","options","factory","getTcombFormFactory","name","getTypeName","meta","kind","Boolean","Checkbox","Date","DatePicker","Textbox","Struct","List","Select","fail","sortByText","a","b","text","getComparator","order","asc","desc","Component","props","typeInfo","state","hasError","value","getTransformer","format","transformer","constructor","nextProps","nextState","should","setState","onChange","ctx","path","context","mixin","parse","is","getValue","validate","getValidationOptions","result","pureValidate","isValid","auto","i18n","label","isMaybe","getI18n","optional","required","legend","getAuto","getDefaultLabel","error","getValidationErrorMessage","Function","validationOptions","config","stylesheet","getError","getLabel","bind","getConfig","hidden","getStylesheet","locals","getLocals","assert","getTemplate","template","toNull","String","trim","parseNumber","n","parseFloat","isNumeric","innerType","Number","numberTransformer","templates","textbox","placeholder","keyboardType","getPlaceholder","onChangeNative","getKeyboardType","underlineColorAndroid","forEach","checkbox","getNullOption","select","nullOption","items","slice","getEnum","sort","unshift","getOptions","datepicker","keys","refs","every","ref","isValueNully","removeErrors","errors","ValidationResult","hasOwnProperty","concat","length","InnerType","isSubtype","fieldName","fieldValue","getTemplates","struct","getTypeProps","inputs","prop","propValue","propType","fieldsOptions","fields","propOptions","createElement","key","uidGenerator","getOrder","getInputs","toSameLength","ret","i","len","next","map","push","allkeys","isPristine","undefined","itemIndex","itemValue","splice","list","itemType","itemOptions","item","ItemComponent","buttons","disableRemove","remove","click","removeItem","disableOrder","up","moveUpItem","down","moveDownItem","input","onItemChange","add","disableAdd","addItem","getItems","className","Form","split","reduce","rii","_reactInternalInstance","_hostContainerInfo","_idCounter","_nativeContainerInfo","_rootNodeID","getSeed","process","env","NODE_ENV","isType","maybe","getUIDGenerator","module","exports","getComponent"],"mappings":"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","sourcesContent":["import React from 'react';\nimport t from 'tcomb-validation';\nimport {\n  humanize,\n  merge,\n  getTypeInfo,\n  getOptionsOfEnum,\n  move,\n  UIDGenerator,\n  getTypeFromUnion,\n  getComponentOptions\n} from './util';\n\nconst SOURCE = 'tcomb-form-native';\nconst nooptions = Object.freeze({});\nconst noop = function () {};\nconst noobj = Object.freeze({});\nconst noarr = Object.freeze([]);\nconst Nil = t.Nil;\n\nfunction getFormComponent(type, options) {\n  if (options.factory) {\n    return options.factory;\n  }\n  if (type.getTcombFormFactory) {\n    return type.getTcombFormFactory(options);\n  }\n  const name = t.getTypeName(type);\n  switch (type.meta.kind) {\n    case 'irreducible' :\n      return (\n        type === t.Boolean ? Checkbox :\n        type === t.Date ?  DatePicker :\n                          Textbox\n      );\n    case 'struct' :\n      return Struct;\n    case 'list' :\n      return List;\n    case 'enums' :\n      return Select;\n    case 'maybe' :\n    case 'subtype' :\n      return getFormComponent(type.meta.type, options);\n    default :\n      t.fail(`[${SOURCE}] unsupported type ${name}`);\n  }\n}\n\nfunction sortByText(a, b) {\n  return a.text < b.text ? -1 : a.text > b.text ? 1 : 0;\n}\n\nfunction getComparator(order) {\n  return {\n    asc: sortByText,\n    desc: (a, b) => -sortByText(a, b)\n  }[order];\n}\n\nclass Component extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.typeInfo = getTypeInfo(props.type);\n    this.state = {\n      hasError: false,\n      value: this.getTransformer().format(props.value)\n    };\n  }\n\n  getTransformer() {\n    return this.props.options.transformer || this.constructor.transformer;\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const should = (\n      nextState.value !== this.state.value ||\n      nextState.hasError !== this.state.hasError ||\n      nextProps.options !== this.props.options ||\n      nextProps.type !== this.props.type\n    );\n    return should;\n  }\n\n  componentWillReceiveProps(props) {\n    if (props.type !== this.props.type) {\n      this.typeInfo = getTypeInfo(props.type);\n    }\n    this.setState({value: this.getTransformer().format(props.value)});\n  }\n\n  onChange(value) {\n    this.setState({value}, () => this.props.onChange(value, this.props.ctx.path));\n  }\n\n  getValidationOptions() {\n    return {\n      path: this.props.ctx.path,\n      context: t.mixin(t.mixin({}, this.props.context || this.props.ctx.context), { options: this.props.options })\n    };\n  }\n\n  getValue() {\n    return this.getTransformer().parse(this.state.value);\n  }\n\n  isValueNully() {\n    return Nil.is(this.getValue());\n  }\n\n  removeErrors() {\n    this.setState({hasError: false});\n  }\n\n  pureValidate() {\n    return t.validate(this.getValue(), this.props.type, this.getValidationOptions());\n  }\n\n  validate() {\n    const result = this.pureValidate();\n    this.setState({hasError: !result.isValid()});\n    return result;\n  }\n\n  getAuto() {\n    return this.props.options.auto || this.props.ctx.auto;\n  }\n\n  getI18n() {\n    return this.props.options.i18n || this.props.ctx.i18n;\n  }\n\n  getDefaultLabel() {\n    const ctx = this.props.ctx;\n    if (ctx.label) {\n      return ctx.label + (this.typeInfo.isMaybe ? this.getI18n().optional : this.getI18n().required);\n    }\n  }\n\n  getLabel() {\n    let label = this.props.options.label || this.props.options.legend;\n    if (Nil.is(label) && this.getAuto() === 'labels') {\n      label = this.getDefaultLabel();\n    }\n    return label;\n  }\n\n  getError() {\n    if (this.hasError()) {\n      const error = this.props.options.error || this.typeInfo.getValidationErrorMessage;\n      if (t.Function.is(error)) {\n        const validationOptions = this.getValidationOptions();\n        return error(this.getValue(), validationOptions.path, validationOptions.context);\n      }\n      return error;\n    }\n  }\n\n  hasError() {\n    return this.props.options.hasError || this.state.hasError;\n  }\n\n  getConfig() {\n    return merge(this.props.ctx.config, this.props.options.config);\n  }\n\n  getStylesheet() {\n    return this.props.options.stylesheet || this.props.ctx.stylesheet;\n  }\n\n  getLocals() {\n    return {\n      path: this.props.ctx.path,\n      error: this.getError(),\n      hasError: this.hasError(),\n      label: this.getLabel(),\n      onChange: this.onChange.bind(this),\n      config: this.getConfig(),\n      value: this.state.value,\n      hidden: this.props.options.hidden,\n      stylesheet: this.getStylesheet()\n    };\n  }\n\n  render() {\n    const locals = this.getLocals();\n    // getTemplate is the only required implementation when extending Component\n    t.assert(t.Function.is(this.getTemplate), `[${SOURCE}] missing getTemplate method of component ${this.constructor.name}`);\n    const template = this.getTemplate();\n    return template(locals);\n  }\n\n}\n\nComponent.transformer = {\n  format: value => Nil.is(value) ? null : value,\n  parse: value => value\n};\n\nfunction toNull(value) {\n  return (t.String.is(value) && value.trim() === '') || Nil.is(value) ? null : value;\n}\n\nfunction parseNumber(value) {\n  const n = parseFloat(value);\n  const isNumeric = (value - n + 1) >= 0;\n  return isNumeric ? n : toNull(value);\n}\n\nclass Textbox extends Component {\n\n  getTransformer() {\n    const options = this.props.options;\n    return options.transformer ? options.transformer :\n      this.typeInfo.innerType === t.Number ? Textbox.numberTransformer :\n      Textbox.transformer;\n  }\n\n  getTemplate() {\n    return this.props.options.template || this.props.ctx.templates.textbox;\n  }\n\n  getPlaceholder() {\n    let placeholder = this.props.options.placeholder;\n    if (Nil.is(placeholder) && this.getAuto() === 'placeholders') {\n      placeholder = this.getDefaultLabel();\n    }\n    return placeholder;\n  }\n\n  getKeyboardType() {\n    const keyboardType = this.props.options.keyboardType;\n    if (t.Nil.is(keyboardType) && this.typeInfo.innerType === t.Number) {\n      return 'numeric';\n    }\n    return keyboardType;\n  }\n\n  getLocals() {\n    const locals = super.getLocals();\n    locals.placeholder = this.getPlaceholder();\n    locals.onChangeNative = this.props.options.onChange;\n    locals.keyboardType = this.getKeyboardType();\n    locals.underlineColorAndroid = (this.props.options.underlineColorAndroid || 'transparent');\n\n    [\n      'help',\n      'autoCapitalize',\n      'autoCorrect',\n      'autoFocus',\n      'blurOnSubmit',\n      'editable',\n      'maxLength',\n      'multiline',\n      'onBlur',\n      'onEndEditing',\n      'onFocus',\n      'onLayout',\n      'onSelectionChange',\n      'onSubmitEditing',\n      'onContentSizeChange',\n      'placeholderTextColor',\n      'secureTextEntry',\n      'selectTextOnFocus',\n      'selectionColor',\n      'numberOfLines',\n      'clearButtonMode',\n      'clearTextOnFocus',\n      'enablesReturnKeyAutomatically',\n      'keyboardAppearance',\n      'onKeyPress',\n      'returnKeyType',\n      'selectionState'\n    ].forEach((name) => locals[name] = this.props.options[name]);\n\n    return locals;\n  }\n\n}\n\nTextbox.transformer = {\n  format: value => Nil.is(value) ? '' : value,\n  parse: toNull\n};\n\nTextbox.numberTransformer = {\n  format: value => Nil.is(value) ? '' : String(value),\n  parse: parseNumber\n};\n\nclass Checkbox extends Component {\n\n  getTemplate() {\n    return this.props.options.template || this.props.ctx.templates.checkbox;\n  }\n\n  getLocals() {\n    const locals = super.getLocals();\n    // checkboxes must always have a label\n    locals.label = locals.label || this.getDefaultLabel();\n\n    [\n      'help',\n      'disabled',\n      'onTintColor',\n      'thumbTintColor',\n      'tintColor'\n    ].forEach((name) => locals[name] = this.props.options[name]);\n\n    return locals;\n  }\n\n}\n\nCheckbox.transformer = {\n  format: value => Nil.is(value) ? false : value,\n  parse: value => value\n};\n\nclass Select extends Component {\n\n  getTransformer() {\n    const options = this.props.options;\n    if (options.transformer) {\n      return options.transformer;\n    }\n    return Select.transformer(this.getNullOption());\n  }\n\n  getTemplate() {\n    return this.props.options.template || this.props.ctx.templates.select;\n  }\n\n  getNullOption() {\n    return this.props.options.nullOption || {value: '', text: '-'};\n  }\n\n  getEnum() {\n    return this.typeInfo.innerType;\n  }\n\n  getOptions() {\n    const options = this.props.options;\n    const items = options.options ? options.options.slice() : getOptionsOfEnum(this.getEnum());\n    if (options.order) {\n      items.sort(getComparator(options.order));\n    }\n    const nullOption = this.getNullOption();\n    if (options.nullOption !== false) {\n      items.unshift(nullOption);\n    }\n    return items;\n  }\n\n  getLocals() {\n    const locals = super.getLocals();\n    locals.options = this.getOptions();\n\n    [\n      'help',\n      'enabled',\n      'mode',\n      'prompt',\n      'itemStyle'\n    ].forEach((name) => locals[name] = this.props.options[name]);\n\n    return locals;\n  }\n\n}\n\nSelect.transformer = (nullOption) => {\n  return {\n    format: value => Nil.is(value) && nullOption ? nullOption.value : String(value),\n    parse: value => nullOption && nullOption.value === value ? null : value\n  };\n};\n\nclass DatePicker extends Component {\n\n  getTemplate() {\n    return this.props.options.template || this.props.ctx.templates.datepicker;\n  }\n\n  getLocals() {\n    const locals = super.getLocals();\n    [\n      'help',\n      'disabled',\n      'maximumDate',\n      'minimumDate',\n      'minuteInterval',\n      'mode',\n      'timeZoneOffsetInMinutes'\n    ].forEach((name) => locals[name] = this.props.options[name]);\n\n    return locals;\n  }\n\n}\n\nDatePicker.transformer = {\n  format: value => Nil.is(value) ? new Date() : value,\n  parse: value => value\n};\n\nclass Struct extends Component {\n\n  isValueNully() {\n    return Object.keys(this.refs).every((ref) => this.refs[ref].isValueNully());\n  }\n\n  removeErrors() {\n    this.setState({hasError: false});\n    Object.keys(this.refs).forEach((ref) => this.refs[ref].removeErrors());\n  }\n\n  getValue() {\n    const value = {};\n    for (const ref in this.refs) {\n      value[ref] = this.refs[ref].getValue();\n    }\n    return this.getTransformer().parse(value);\n  }\n\n  validate() {\n    let value = {};\n    let errors = [];\n    let hasError = false;\n    let result;\n\n    if (this.typeInfo.isMaybe && this.isValueNully()) {\n      this.removeErrors();\n      return new t.ValidationResult({errors: [], value: null});\n    }\n\n    for (const ref in this.refs) {\n      if (this.refs.hasOwnProperty(ref)) {\n        result = this.refs[ref].validate();\n        errors = errors.concat(result.errors);\n        value[ref] = result.value;\n      }\n    }\n\n    if (errors.length === 0) {\n      const InnerType = this.typeInfo.innerType;\n      value = new InnerType(value);\n      if (this.typeInfo.isSubtype && errors.length === 0) {\n        result = t.validate(value, this.props.type, this.getValidationOptions());\n        hasError = !result.isValid();\n        errors = errors.concat(result.errors);\n      }\n    }\n\n    this.setState({hasError: hasError});\n    return new t.ValidationResult({errors, value});\n  }\n\n  onChange(fieldName, fieldValue, path) {\n    const value = t.mixin({}, this.state.value);\n    value[fieldName] = fieldValue;\n    this.setState({value}, () => {\n      this.props.onChange(value, path);\n    });\n  }\n\n  getTemplates() {\n    return merge(this.props.ctx.templates, this.props.options.templates);\n  }\n\n  getTemplate() {\n    return this.props.options.template || this.getTemplates().struct;\n  }\n\n  getTypeProps() {\n    return this.typeInfo.innerType.meta.props;\n  }\n\n  getOrder() {\n    return this.props.options.order || Object.keys(this.getTypeProps());\n  }\n\n  getInputs() {\n    const { ctx, options } = this.props;\n    const props = this.getTypeProps();\n    const auto = this.getAuto();\n    const i18n =  this.getI18n();\n    const config = this.getConfig();\n    const value = this.state.value || {};\n    const templates = this.getTemplates();\n    const stylesheet = this.getStylesheet();\n    const inputs = {};\n    for (const prop in props) {\n      if (props.hasOwnProperty(prop)) {\n        const type = props[prop];\n        const propValue = value[prop];\n        const propType = getTypeFromUnion(type, propValue);\n        const fieldsOptions = options.fields || noobj;\n        const propOptions = getComponentOptions(fieldsOptions[prop], noobj, propValue, type);\n        inputs[prop] = React.createElement(getFormComponent(propType, propOptions), {\n          key: prop,\n          ref: prop,\n          type: propType,\n          options: propOptions,\n          value: value[prop],\n          onChange: this.onChange.bind(this, prop),\n          ctx: {\n            context: ctx.context,\n            uidGenerator: ctx.uidGenerator,\n            auto,\n            config,\n            label: humanize(prop),\n            i18n,\n            stylesheet,\n            templates,\n            path: this.props.ctx.path.concat(prop)\n          }\n        });\n      }\n    }\n    return inputs;\n  }\n\n  getLocals() {\n    const templates = this.getTemplates();\n    const locals = super.getLocals();\n    locals.order = this.getOrder();\n    locals.inputs = this.getInputs();\n    locals.template = templates.struct;\n    return locals;\n  }\n\n}\n\nfunction toSameLength(value, keys, uidGenerator) {\n  if (value.length === keys.length) {\n    return keys;\n  }\n  const ret = [];\n  for (let i = 0, len = value.length; i < len; i++ ) {\n    ret[i] = keys[i] || uidGenerator.next();\n  }\n  return ret;\n}\n\nexport class List extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state.keys = this.state.value.map(() => props.ctx.uidGenerator.next());\n  }\n\n  componentWillReceiveProps(props) {\n    if (props.type !== this.props.type) {\n      this.typeInfo = getTypeInfo(props.type);\n    }\n    const value = this.getTransformer().format(props.value);\n    this.setState({\n      value,\n      keys: toSameLength(value, this.state.keys, props.ctx.uidGenerator)\n    });\n  }\n\n  isValueNully() {\n    return this.state.value.length === 0;\n  }\n\n  removeErrors() {\n    this.setState({ hasError: false });\n    Object.keys(this.refs).forEach((ref) => this.refs[ref].removeErrors());\n  }\n\n  getValue() {\n    const value = [];\n    for (let i = 0, len = this.state.value.length; i < len; i++ ) {\n      if (this.refs.hasOwnProperty(i)) {\n        value.push(this.refs[i].getValue());\n      }\n    }\n    return this.getTransformer().parse(value);\n  }\n\n  validate() {\n    const value = [];\n    let errors = [];\n    let hasError = false;\n    let result;\n\n    if (this.typeInfo.isMaybe && this.isValueNully()) {\n      this.removeErrors();\n      return new t.ValidationResult({errors: [], value: null});\n    }\n\n    for (let i = 0, len = this.state.value.length; i < len; i++ ) {\n      result = this.refs[i].validate();\n      errors = errors.concat(result.errors);\n      value.push(result.value);\n    }\n\n    // handle subtype\n    if (this.typeInfo.isSubtype && errors.length === 0) {\n      result = t.validate(value, this.props.type, this.getValidationOptions());\n      hasError = !result.isValid();\n      errors = errors.concat(result.errors);\n    }\n\n    this.setState({hasError: hasError});\n    return new t.ValidationResult({errors: errors, value: value});\n  }\n\n  onChange(value, keys, path, kind) {\n    const allkeys = toSameLength(value, keys, this.props.ctx.uidGenerator);\n    this.setState({ value, keys: allkeys, isPristine: false }, () => {\n      this.props.onChange(value, path, kind);\n    });\n  }\n\n  addItem() {\n    const value = this.state.value.concat(undefined);\n    const keys = this.state.keys.concat(this.props.ctx.uidGenerator.next());\n    this.onChange(value, keys, this.props.ctx.path.concat(value.length - 1), 'add');\n  }\n\n  onItemChange(itemIndex, itemValue, path, kind) {\n    const value = this.state.value.slice();\n    value[itemIndex] = itemValue;\n    this.onChange(value, this.state.keys, path, kind);\n  }\n\n  removeItem(i) {\n    const value = this.state.value.slice();\n    value.splice(i, 1);\n    const keys = this.state.keys.slice();\n    keys.splice(i, 1);\n    this.onChange(value, keys, this.props.ctx.path.concat(i), 'remove');\n  }\n\n  moveUpItem(i) {\n    if (i > 0) {\n      this.onChange(\n        move(this.state.value.slice(), i, i - 1),\n        move(this.state.keys.slice(), i, i - 1),\n        this.props.ctx.path.concat(i),\n        'moveUp'\n      );\n    }\n  }\n\n  moveDownItem(i) {\n    if (i < this.state.value.length - 1) {\n      this.onChange(\n        move(this.state.value.slice(), i, i + 1),\n        move(this.state.keys.slice(), i, i + 1),\n        this.props.ctx.path.concat(i),\n        'moveDown'\n      );\n    }\n  }\n\n  getTemplates() {\n    return merge(this.props.ctx.templates, this.props.options.templates);\n  }\n\n  getTemplate() {\n    return this.props.options.template || this.getTemplates().list;\n  }\n\n  getItems() {\n    const { options, ctx } = this.props;\n    const auto = this.getAuto();\n    const i18n = this.getI18n();\n    const config = this.getConfig();\n    const stylesheet = this.getStylesheet();\n    const templates = this.getTemplates();\n    const value = this.state.value;\n    return value.map((itemValue, i) => {\n      const type = this.typeInfo.innerType.meta.type;\n      const itemType = getTypeFromUnion(type, itemValue);\n      const itemOptions = getComponentOptions(options.item, noobj, itemValue, type);\n      const ItemComponent = getFormComponent(itemType, itemOptions);\n      const buttons = [];\n      if (!options.disableRemove) {\n        buttons.push({\n          type: 'remove',\n          label: i18n.remove,\n          click: this.removeItem.bind(this, i)\n        });\n      }\n      if (!options.disableOrder) {\n        buttons.push({\n          type: 'move-up',\n          label: i18n.up,\n          click: this.moveUpItem.bind(this, i)\n        },\n        {\n          type: 'move-down',\n          label: i18n.down,\n          click: this.moveDownItem.bind(this, i)\n        });\n      }\n      return {\n        input: React.createElement(ItemComponent, {\n          ref: i,\n          type: itemType,\n          options: itemOptions,\n          value: itemValue,\n          onChange: this.onItemChange.bind(this, i),\n          ctx: {\n            context: ctx.context,\n            uidGenerator: ctx.uidGenerator,\n            auto,\n            config,\n            label: ctx.label ? `${ctx.label}[${i + 1}]` : String(i + 1),\n            i18n,\n            stylesheet,\n            templates,\n            path: ctx.path.concat(i)\n          }\n        }),\n        key: this.state.keys[i],\n        buttons: buttons\n      };\n    });\n  }\n\n  getLocals() {\n    const options = this.props.options;\n    const i18n = this.getI18n();\n    const locals = super.getLocals();\n    locals.add = options.disableAdd ? null : {\n      type: 'add',\n      label: i18n.add,\n      click: this.addItem.bind(this)\n    };\n    locals.items = this.getItems();\n    locals.className = options.className;\n    return locals;\n  }\n\n}\n\nList.transformer = {\n  format: value => Nil.is(value) ? noarr : value,\n  parse: value => value\n};\n\nclass Form extends React.Component {\n\n  validate() {\n    return this.refs.input.validate();\n  }\n\n  getValue() {\n    const result = this.validate();\n    return result.isValid() ? result.value : null;\n  }\n\n  getComponent(path) {\n    path = t.String.is(path) ? path.split('.') : path;\n    return path.reduce((input, name) => input.refs[name], this.refs.input);\n  }\n\n  getSeed() {\n    const rii = this._reactInternalInstance;\n    if (rii) {\n      if (rii._hostContainerInfo) {\n        return rii._hostContainerInfo._idCounter;\n      }\n      if (rii._nativeContainerInfo) {\n        return rii._nativeContainerInfo._idCounter;\n      }\n      if (rii._rootNodeID) {\n        return rii._rootNodeID;\n      }\n    }\n    return '0';\n  }\n\n  getUIDGenerator() {\n    this.uidGenerator = this.uidGenerator || new UIDGenerator(this.getSeed());\n    return this.uidGenerator;\n  }\n\n  render() {\n\n    const stylesheet = this.props.stylesheet || Form.stylesheet;\n    const templates = this.props.templates || Form.templates;\n    const i18n = this.props.i18n || Form.i18n;\n\n    if (process.env.NODE_ENV !== 'production') {\n      t.assert(t.isType(this.props.type), `[${SOURCE}] missing required prop type`);\n      t.assert(t.maybe(t.Object).is(this.props.options) || t.Function.is(this.props.options) || t.list(t.maybe(t.Object)).is(this.props.options), `[${SOURCE}] prop options, if specified, must be an object, a function returning the options or a list of options for unions`);\n      t.assert(t.Object.is(stylesheet), `[${SOURCE}] missing stylesheet config`);\n      t.assert(t.Object.is(templates), `[${SOURCE}] missing templates config`);\n      t.assert(t.Object.is(i18n), `[${SOURCE}] missing i18n config`);\n    }\n\n    const value = this.props.value;\n    const type = getTypeFromUnion(this.props.type, value);\n    const options = getComponentOptions(this.props.options, noobj, value, this.props.type);\n\n    // this is in the render method because I need this._reactInternalInstance._rootNodeID in React ^0.14.0\n    // and this._reactInternalInstance._nativeContainerInfo._idCounter in React ^15.0.0\n    const uidGenerator = this.getUIDGenerator();\n\n    return React.createElement(getFormComponent(type, options), {\n      ref: 'input',\n      type: type,\n      options: options,\n      value: this.props.value,\n      onChange: this.props.onChange || noop,\n      ctx: {\n        context: this.props.context,\n        uidGenerator,\n        auto: 'labels',\n        stylesheet,\n        templates,\n        i18n,\n        path: []\n      }\n    });\n  }\n\n}\n\nmodule.exports = {\n  getComponent: getFormComponent,\n  Component,\n  Textbox,\n  Checkbox,\n  Select,\n  DatePicker,\n  Struct,\n  List: List,\n  Form\n};\n"]}]
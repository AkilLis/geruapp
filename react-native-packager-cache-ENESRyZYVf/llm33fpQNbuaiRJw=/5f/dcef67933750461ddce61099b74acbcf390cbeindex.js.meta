["e697322a44a169b53274650339b3237e8d825cb9","15fd81462c6f1be8021fa417519a9fd648fc967e",["react","prop-types","react-native","create-react-class"],[35,69,108,607],{"version":3,"sources":["/var/www/geruapp/node_modules/react-native-modalbox/index.js"],"names":["React","require","PropTypes","View","StyleSheet","PanResponder","Animated","TouchableWithoutFeedback","Dimensions","Easing","BackAndroid","BackHandler","Platform","Modal","Keyboard","createReactClass","BackButton","screen","get","styles","create","wrapper","backgroundColor","transparent","zIndex","absolute","position","top","bottom","left","right","ModalBox","propTypes","isOpen","bool","isDisabled","startOpen","backdropPressToClose","swipeToClose","swipeThreshold","number","swipeArea","string","entry","backdrop","backdropOpacity","backdropColor","backdropContent","element","animationDuration","backButtonClose","easing","func","coverScreen","keyboardTopOffset","onClosed","onOpened","onClosingState","getDefaultProps","elastic","OS","getInitialState","props","height","Value","isAnimateClose","isAnimateOpen","width","containerHeight","containerWidth","isInitialized","keyboardOffset","onBackPress","close","componentWillMount","createPanResponder","handleOpenning","subscriptions","addListener","onKeyboardChange","onKeyboardHide","componentWillUnmount","forEach","sub","remove","componentWillReceiveProps","open","evt","state","keyboardFrame","endCoordinates","keyboardHeight","screenY","animateOpen","animateBackdropOpen","isAnimateBackdrop","animBackdrop","stop","timing","toValue","duration","start","animateBackdropClose","stopAnimateOpen","animOpen","stopAnimateClose","requestAnimationFrame","positionDest","calculateModalPosition","animClose","animateClose","dismiss","setState","closingState","inSwipeArea","onPanRelease","dy","animEvt","event","customY","onPanMove","newClosingState","onPanStart","nativeEvent","pageY","pan","onStartShouldSetPanResponder","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","onViewLayout","layout","newState","onViewLayoutCalculated","onContainerLayout","onLayout","renderBackdrop","opacity","renderContent","size","offsetX","style","transform","translateY","translateX","panHandlers","children","render","visible","content","flex","addEventListener","removeEventListener","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar React = require('react');\nvar PropTypes = require('prop-types');\nvar {\n  View,\n  StyleSheet,\n  PanResponder,\n  Animated,\n  TouchableWithoutFeedback,\n  Dimensions,\n  Easing,\n  BackAndroid,\n  BackHandler,\n  Platform,\n  Modal,\n  Keyboard\n} = require('react-native');\n\nvar createReactClass = require('create-react-class');\n\nvar BackButton = BackHandler || BackAndroid;\n\nvar screen = Dimensions.get('window');\n\nvar styles = StyleSheet.create({\n\n  wrapper: {\n    backgroundColor: \"white\"\n  },\n\n  transparent: {\n    zIndex: 2,\n    backgroundColor: 'rgba(0,0,0,0)'\n  },\n\n  absolute: {\n    position: \"absolute\",\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0\n  }\n\n});\n\nvar ModalBox = createReactClass({\n\n  propTypes: {\n    isOpen: PropTypes.bool,\n    isDisabled: PropTypes.bool,\n    startOpen: PropTypes.bool,\n    backdropPressToClose: PropTypes.bool,\n    swipeToClose: PropTypes.bool,\n    swipeThreshold: PropTypes.number,\n    swipeArea: PropTypes.number,\n    position: PropTypes.string,\n    entry: PropTypes.string,\n    backdrop: PropTypes.bool,\n    backdropOpacity: PropTypes.number,\n    backdropColor: PropTypes.string,\n    backdropContent: PropTypes.element,\n    animationDuration: PropTypes.number,\n    backButtonClose: PropTypes.bool,\n    easing: PropTypes.func,\n    coverScreen: PropTypes.bool,\n    keyboardTopOffset: PropTypes.number,\n\n    onClosed: PropTypes.func,\n    onOpened: PropTypes.func,\n    onClosingState: PropTypes.func,\n  },\n\n  getDefaultProps: function () {\n    return {\n      startOpen: false,\n      backdropPressToClose: true,\n      swipeToClose: true,\n      swipeThreshold: 50,\n      position: \"center\",\n      backdrop: true,\n      backdropOpacity: 0.5,\n      backdropColor: \"black\",\n      backdropContent: null,\n      animationDuration: 400,\n      backButtonClose: false,\n      easing: Easing.elastic(0.8),\n      coverScreen: false,\n      keyboardTopOffset: Platform.OS == 'ios' ? 22 : 0\n    };\n  },\n\n  getInitialState: function () {\n    var position = this.props.entry === 'top' ? -screen.height : screen.height;\n    return {\n      position: this.props.startOpen ? new Animated.Value(0) : new Animated.Value(position),\n      backdropOpacity: new Animated.Value(0),\n      isOpen: this.props.startOpen,\n      isAnimateClose: false,\n      isAnimateOpen: false,\n      swipeToClose: false,\n      height: screen.height,\n      width: screen.width,\n      containerHeight: screen.height,\n      containerWidth: screen.width,\n      isInitialized: false,\n      keyboardOffset: 0\n    };\n  },\n\n  onBackPress () {\n    this.close()\n    return true\n  },\n\n  componentWillMount: function() {\n    this.createPanResponder();\n    this.handleOpenning(this.props);\n    // Needed for IOS because the keyboard covers the screen\n    if (Platform.OS === 'ios') {\n      this.subscriptions = [\n        Keyboard.addListener('keyboardWillChangeFrame', this.onKeyboardChange),\n        Keyboard.addListener('keyboardDidHide', this.onKeyboardHide)\n      ];\n    }\n  },\n\n  componentWillUnmount: function() {\n    if (this.subscriptions) this.subscriptions.forEach((sub) => sub.remove());\n  },\n\n  componentWillReceiveProps: function(props) {\n     if(this.props.isOpen != props.isOpen){\n        this.handleOpenning(props);\n     }\n  },\n\n  handleOpenning: function(props) {\n    if (typeof props.isOpen == \"undefined\") return;\n    if (props.isOpen)\n      this.open();\n    else\n      this.close();\n  },\n\n  /****************** ANIMATIONS **********************/\n\n  /*\n   * The keyboard is hidden (IOS only)\n   */\n  onKeyboardHide: function(evt) {\n    this.state.keyboardOffset = 0;\n  },\n\n  /*\n   * The keyboard frame changed, used to detect when the keyboard open, faster than keyboardDidShow (IOS only)\n   */\n  onKeyboardChange: function(evt) {\n    if (!evt) return;\n    if (!this.state.isOpen) return;\n    var keyboardFrame = evt.endCoordinates;\n    var keyboardHeight = this.state.containerHeight - keyboardFrame.screenY;\n\n    this.state.keyboardOffset = keyboardHeight;\n    this.animateOpen();\n  },\n\n  /*\n   * Open animation for the backdrop, will fade in\n   */\n  animateBackdropOpen: function() {\n    if (this.state.isAnimateBackdrop) {\n      this.state.animBackdrop.stop();\n      this.state.isAnimateBackdrop = false;\n    }\n\n    this.state.isAnimateBackdrop = true;\n    this.state.animBackdrop = Animated.timing(\n      this.state.backdropOpacity,\n      {\n        toValue: 1,\n        duration: this.props.animationDuration\n      }\n    );\n    this.state.animBackdrop.start(() => {\n      this.state.isAnimateBackdrop = false;\n    });\n  },\n\n  /*\n   * Close animation for the backdrop, will fade out\n   */\n  animateBackdropClose: function() {\n    if (this.state.isAnimateBackdrop) {\n      this.state.animBackdrop.stop();\n      this.state.isAnimateBackdrop = false;\n    }\n\n    this.state.isAnimateBackdrop = true;\n    this.state.animBackdrop = Animated.timing(\n      this.state.backdropOpacity,\n      {\n        toValue: 0,\n        duration: this.props.animationDuration\n      }\n    );\n    this.state.animBackdrop.start(() => {\n      this.state.isAnimateBackdrop = false;\n    });\n  },\n\n  /*\n   * Stop opening animation\n   */\n  stopAnimateOpen: function() {\n    if (this.state.isAnimateOpen) {\n      if (this.state.animOpen) this.state.animOpen.stop();\n      this.state.isAnimateOpen = false;\n    }\n  },\n\n  /*\n   * Open animation for the modal, will move up\n   */\n  animateOpen: function() {\n    this.stopAnimateClose();\n\n    // Backdrop fadeIn\n    if (this.props.backdrop)\n      this.animateBackdropOpen();\n\n    this.state.isAnimateOpen = true;\n\n    requestAnimationFrame(() => {\n      // Detecting modal position\n      this.state.positionDest = this.calculateModalPosition(this.state.containerHeight - this.state.keyboardOffset, this.state.containerWidth);\n      if (this.state.keyboardOffset && (this.state.positionDest < this.props.keyboardTopOffset)) {\n        this.state.positionDest = this.props.keyboardTopOffset;\n      }\n      this.state.animOpen = Animated.timing(\n        this.state.position,\n        {\n          toValue: this.state.positionDest,\n          duration: this.props.animationDuration,\n          easing: this.props.easing,\n        }\n      );\n      this.state.animOpen.start(() => {\n        if (!this.state.isOpen && this.props.onOpened) this.props.onOpened();\n        this.state.isAnimateOpen = false;\n        this.state.isOpen = true;\n      });\n    })\n\n  },\n\n  /*\n   * Stop closing animation\n   */\n  stopAnimateClose: function() {\n    if (this.state.isAnimateClose) {\n      if (this.state.animClose) this.state.animClose.stop();\n      this.state.isAnimateClose = false;\n    }\n  },\n\n  /*\n   * Close animation for the modal, will move down\n   */\n  animateClose: function() {\n    this.stopAnimateOpen();\n\n    // Backdrop fadeout\n    if (this.props.backdrop)\n      this.animateBackdropClose();\n\n    this.state.isAnimateClose = true;\n    this.state.animClose = Animated.timing(\n      this.state.position,\n      {\n        toValue: this.props.entry === 'top' ? -this.state.containerHeight : this.state.containerHeight,\n        duration: this.props.animationDuration\n      }\n    );\n    this.state.animClose.start(() => {\n      Keyboard.dismiss();\n      this.state.isAnimateClose = false;\n      this.state.isOpen = false;\n      this.setState({});\n      if (this.props.onClosed) this.props.onClosed();\n    });\n  },\n\n  /*\n   * Calculate when should be placed the modal\n   */\n  calculateModalPosition: function(containerHeight, containerWidth) {\n    var position = 0;\n\n    if (this.props.position == \"bottom\") {\n      position = containerHeight - this.state.height;\n    }\n    else if (this.props.position == \"center\") {\n      position = containerHeight / 2 - this.state.height / 2;\n    }\n    // Checking if the position >= 0\n    if (position < 0) position = 0;\n    return position;\n  },\n\n  /*\n   * Create the pan responder to detect gesture\n   * Only used if swipeToClose is enabled\n   */\n  createPanResponder: function() {\n    var closingState = false;\n    var inSwipeArea  = false;\n\n    var onPanRelease = (evt, state) => {\n      if (!inSwipeArea) return;\n      inSwipeArea = false;\n      if (this.props.entry === 'top' ? -state.dy > this.props.swipeThreshold : state.dy > this.props.swipeThreshold)\n        this.animateClose();\n      else\n        this.animateOpen();\n    };\n\n    var animEvt = Animated.event([null, {customY: this.state.position}]);\n\n    var onPanMove = (evt, state) => {\n      var newClosingState = this.props.entry === 'top' ? -state.dy > this.props.swipeThreshold : state.dy > this.props.swipeThreshold;\n      if (this.props.entry === 'top' ? state.dy > 0 : state.dy < 0) return;\n      if (newClosingState != closingState && this.props.onClosingState)\n        this.props.onClosingState(newClosingState);\n      closingState = newClosingState;\n      state.customY = state.dy + this.state.positionDest;\n\n      animEvt(evt, state);\n    };\n\n    var onPanStart = (evt, state) => {\n      if (!this.props.swipeToClose || this.props.isDisabled || (this.props.swipeArea && (evt.nativeEvent.pageY - this.state.positionDest) > this.props.swipeArea)) {\n        inSwipeArea = false;\n        return false;\n      }\n      inSwipeArea = true;\n      return true;\n    };\n\n    this.state.pan = PanResponder.create({\n      onStartShouldSetPanResponder: onPanStart,\n      onPanResponderMove: onPanMove,\n      onPanResponderRelease: onPanRelease,\n      onPanResponderTerminate: onPanRelease,\n    });\n  },\n\n  /*\n   * Event called when the modal view layout is calculated\n   */\n  onViewLayout: function(evt) {\n    var height = evt.nativeEvent.layout.height;\n    var width = evt.nativeEvent.layout.width;\n\n    // If the dimensions are still the same we're done\n    let newState = {};\n    if (height !== this.state.height) newState.height = height;\n    if (width !== this.state.width) newState.width = width;\n    this.setState(newState);\n\n    if (this.onViewLayoutCalculated) this.onViewLayoutCalculated();\n  },\n\n  /*\n   * Event called when the container view layout is calculated\n   */\n  onContainerLayout: function(evt) {\n    var height = evt.nativeEvent.layout.height;\n    var width = evt.nativeEvent.layout.width;\n\n    // If the container size is still the same we're done\n    if (height == this.state.containerHeight && width == this.state.containerWidth) {\n      this.setState({ isInitialized: true });\n      return;\n    }\n\n    if (this.state.isOpen || this.state.isAnimateOpen) {\n      this.animateOpen();\n    }\n\n    if (this.props.onLayout) this.props.onLayout(evt);\n    this.setState({\n      isInitialized: true,\n      containerHeight: height,\n      containerWidth: width\n    });\n  },\n\n  /*\n   * Render the backdrop element\n   */\n  renderBackdrop: function() {\n    var backdrop  = null;\n\n    if (this.props.backdrop) {\n      backdrop = (\n        <TouchableWithoutFeedback onPress={this.props.backdropPressToClose ? this.close : null}>\n          <Animated.View style={[styles.absolute, {opacity: this.state.backdropOpacity}]}>\n            <View style={[styles.absolute, {backgroundColor:this.props.backdropColor, opacity: this.props.backdropOpacity}]}/>\n            {this.props.backdropContent || []}\n          </Animated.View>\n        </TouchableWithoutFeedback>\n      );\n    }\n\n    return backdrop;\n  },\n\n  renderContent() {\n    var size    = {height: this.state.containerHeight, width: this.state.containerWidth};\n    var offsetX = (this.state.containerWidth - this.state.width) / 2;\n\n    return (\n      <Animated.View\n        onLayout={this.onViewLayout}\n        style={[styles.wrapper, size, this.props.style, {transform: [{translateY: this.state.position}, {translateX: offsetX}]} ]}\n        {...this.state.pan.panHandlers}>\n        {this.props.children}\n      </Animated.View>\n    )\n  },\n\n  /*\n   * Render the component\n   */\n  render: function() {\n    var visible = this.state.isOpen || this.state.isAnimateOpen || this.state.isAnimateClose;\n\n    if (!visible) return <View/>\n\n    var content = (\n      <View style={[styles.transparent, styles.absolute]} pointerEvents={'box-none'}>\n        <View style={{ flex: 1 }} pointerEvents={'box-none'} onLayout={this.onContainerLayout}>\n          {visible && this.renderBackdrop()}\n          {visible && this.renderContent()}\n        </View>\n      </View>\n    )\n\n    if (!this.props.coverScreen) return content;\n\n    return (\n      <Modal onRequestClose={() => this.close()} supportedOrientations={['landscape', 'portrait']} transparent visible={visible}>\n        {content}\n      </Modal>\n    );\n  },\n\n  /****************** PUBLIC METHODS **********************/\n\n  open: function() {\n    if (this.props.isDisabled) return;\n    if (!this.state.isAnimateOpen && (!this.state.isOpen || this.state.isAnimateClose)) {\n      this.onViewLayoutCalculated = () => {\n        this.setState({});\n        this.animateOpen();\n        if(this.props.backButtonClose && Platform.OS === 'android') BackButton.addEventListener('hardwareBackPress', this.onBackPress)\n        delete this.onViewLayoutCalculated;\n      };\n      this.setState({isAnimateOpen : true});\n    }\n  },\n\n  close: function() {\n    if (this.props.isDisabled) return;\n    if (!this.state.isAnimateClose && (this.state.isOpen || this.state.isAnimateOpen)) {\n      this.animateClose();\n      if(this.props.backButtonClose && Platform.OS === 'android') BackButton.removeEventListener('hardwareBackPress', this.onBackPress)\n    }\n  }\n\n\n});\n\nmodule.exports = ModalBox;\n"]}]
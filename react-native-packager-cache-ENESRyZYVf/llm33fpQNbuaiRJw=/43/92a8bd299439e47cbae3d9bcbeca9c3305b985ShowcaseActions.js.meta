["e3448a5d557239afe6b3d3db187d174e7ab6d11b","e3cbdfe165e4a2b086fe83972e3a8f8b64c680c2",["./ShowcaseConstants","lodash","../BackendFactory"],[414,461,563],{"version":3,"sources":["/var/www/geruapp/src/showcase/ShowcaseActions.js"],"names":["fetching","onShowCaseSearchValueCleared","getShowcaseSuggestedTags","setTagAutocomplete","onShowCaseSearchValueChanged","getPortfolios","BackendFactory","require","default","type","payload","tag","dispatch","then","res","data","tags","catch","searchText","str","split","forEach","push","name","text","inputs","length","getTagAutoComplete","freetext","pageIndex","getShowcaseByTags","page","showcases","pageLast","page_last","paginate","console","log","err"],"mappings":";;;QAmBgBA,Q,GAAAA,Q;QAOAC,4B,GAAAA,4B;QAMAC,wB,GAAAA,wB;QAuBAC,kB,GAAAA,kB;QAoBAC,4B,GAAAA,4B;QA0CAC,a,GAAAA,a;;AArHhB;;AAeA;;;;AAEA,IAAMC,iBAAiBC,QAAQ,mBAAR,EAA6BC,OAApD;;AAEO,SAASR,QAAT,CAAkBS,IAAlB,EAAwB;AAC9B,QAAO;AACNA,mCADM;AAENC,WAASD;AAFH,EAAP;AAIA;;AAEM,SAASR,4BAAT,GAAwC;AAC9C,QAAO;AACNQ;AADM,EAAP;AAGA;;AAEM,SAASP,wBAAT,CAAkCS,GAAlC,EAAuC;AAC7C,QAAO,oBAAY;;AAElBC,WAAS;AACRH;AADQ,GAAT;;AAMAH,mBAAiBJ,wBAAjB,CAA0C;AACzCS;AADyC,GAA1C,EAEGE,IAFH,CAEQ,eAAO;AAEdD,YAAS;AACRH,kEADQ;AAERC,aAASI,IAAIC,IAAJ,CAASC;AAFV,IAAT;AAIA,GARD,EAQGC,KARH,CAQS,eAAO,CAEf,CAVD;AAWA,EAnBD;AAoBA;;AAEM,SAASd,kBAAT,CAA4Be,UAA5B,EAAwC;AAC9C,QAAO,oBAAY;AAClB,MAAIC,MAAMD,WAAWE,KAAX,CAAiB,GAAjB,CAAV;AACA,MAAIJ,OAAO,EAAX;;AAEA,mBAAEK,OAAF,CAAUF,GAAV,EAAe,UAACR,GAAD,EAAS;AACvBK,QAAKM,IAAL,CAAU;AACTC,UAAMZ;AADG,IAAV;AAGA,GAJD;;AAQAC,WAAS;AACRH,gDADQ;AAERC,YAASM;AAFD,GAAT;AAIA,EAhBD;AAiBA;;AAEM,SAASZ,4BAAT,CAAsCoB,IAAtC,EAA4C;AAClD,QAAO,oBAAY;AAClBZ,WAAS,EAAEH,qDAAF,EAAsCC,SAASc,IAA/C,EAAT;;AAEA,MAAIC,SAASD,KAAKJ,KAAL,CAAW,GAAX,CAAb;;AAEA,MAAGK,OAAOC,MAAP,GAAgB,CAAnB,EAAsB;AACrBpB,oBAAiBqB,kBAAjB,CAAoC;AACnChB,SAAKc,OAAOC,MAAP,GAAgB,CAAhB,GAAoBD,OAAOA,OAAOC,MAAP,GAAgB,CAAvB,CAApB,GAAgD,EADlB;AAEnCE,cAAUH,OAAOA,OAAOC,MAAP,GAAgB,CAAvB;AAFyB,IAApC,EAGGb,IAHH,CAGQ,eAAO;AACdD,aAAS;AACRH,4DADQ;AAERC,cAASI,IAAIC,IAAJ,CAASC;AAFV,KAAT;AAIA,IARD,EAQGC,KARH,CAQS,eAAO,CAEf,CAVD;AAWA;AAqBD,EAtCD;AAuCA;;AAEM,SAASZ,aAAT,CAAuBW,IAAvB,EAA6Ba,SAA7B,EAAwC;AAC9C,QAAO,oBAAY;AAClBjB,WAAS,EAAEH,sCAAF,EAAT;;AAKAH,mBAAiBwB,iBAAjB,CAAmC;AAClCC,SAAMF,SAD4B;AAElCb,SAAMA;AAF4B,GAAnC,EAGGH,IAHH,CAGQ,eAAO;AAEdD,YAAS;AACNH,oDADM;AAENC,aAAS;AACRK,WAAMD,IAAIC,IAAJ,CAASiB,SADP;AAERH,gBAAWA,SAFH;AAGRI,eAAUnB,IAAIC,IAAJ,CAASmB,SAHX;AAIRC,eAAU;AAJF;AAFH,IAAT;AASA,GAdD,EAcGlB,KAdH,CAcS,eAAO;AACfmB,WAAQC,GAAR,CAAYC,GAAZ;AACA,GAhBD;AAwNA,EA9ND;AA+NA","sourcesContent":["import {\n\tFETCHING,\n\tGET_PORTFOLIO,\n\tGET_PORTFOLIO_FULFILLED,\n\tGET_PORTFOLIO_ERROR,\n\tSHOWCASE_SEARCHVALUE_CHANGED,\n\tSHOWCASE_SEARCHVALUE_CLEAR,\n\tGET_TAG_AUTOCOMPLETE,\n\tGET_TAG_AUTOCOMPLETE_FULFILLED,\n\tSET_TAG_AUTOCOMPLETE,\n\t//SET_TAG_AUTOCOMPLETE_FULFILLED,\n\tGET_SHOWCASE_SUGGESTED_TAGS,\n\tGET_SHOWCASE_SUGGESTED_TAGS_FULFILLED,\n} from './ShowcaseConstants'\n\nimport _ from 'lodash'\n\nconst BackendFactory = require('../BackendFactory').default\n\nexport function fetching(type) {\n\treturn {\n\t\ttype: FETCHING,\n\t\tpayload: type,\n\t}\n}\n\nexport function onShowCaseSearchValueCleared() {\n\treturn {\n\t\ttype: SHOWCASE_SEARCHVALUE_CLEAR\n\t}\n}\n\nexport function getShowcaseSuggestedTags(tag) {\n\treturn dispatch => {\n\n\t\tdispatch({ \n\t\t\ttype: GET_SHOWCASE_SUGGESTED_TAGS, \n\t\t})\n\n\t\t//alert(tag)\n\n\t\tBackendFactory().getShowcaseSuggestedTags({\n\t\t\ttag\n\t\t}).then(res => {\n\t\t\t//alert(JSON.stringify(res.data.tags))\n\t\t\tdispatch({\n\t\t\t\ttype: GET_SHOWCASE_SUGGESTED_TAGS_FULFILLED,\n\t\t\t\tpayload: res.data.tags\n\t\t\t})\n\t\t}).catch(err => {\n\t\t\t//console.log(err)\n\t\t})\t\n\t}\n}\n\nexport function setTagAutocomplete(searchText) {\n\treturn dispatch => {\n\t\tvar str = searchText.split(\" \")\n\t\tvar tags = []\n\t\t\n\t\t_.forEach(str, (tag) => {\n\t\t\ttags.push({\n\t\t\t\tname: tag,\n\t\t\t})\n\t\t})\t\n\n\t\t//alert(JSON.stringify(tags))\n\n\t\tdispatch({\n\t\t\ttype: SET_TAG_AUTOCOMPLETE,\n\t\t\tpayload: tags,\n\t\t})\n\t}\n}\n\nexport function onShowCaseSearchValueChanged(text) {\n\treturn dispatch => {\n\t\tdispatch({ type: SHOWCASE_SEARCHVALUE_CHANGED, payload: text })\n\n\t\tvar inputs = text.split(\" \")\n\n\t\tif(inputs.length > 0) {\n\t\t\tBackendFactory().getTagAutoComplete({\n\t\t\t\ttag: inputs.length > 1 ? inputs[inputs.length - 2] : '',\n\t\t\t\tfreetext: inputs[inputs.length - 1],\n\t\t\t}).then(res => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: GET_TAG_AUTOCOMPLETE_FULFILLED,\n\t\t\t\t\tpayload: res.data.tags\n\t\t\t\t})\n\t\t\t}).catch(err => {\n\t\t\t\t//console.log(err)\n\t\t\t})\t\n\t\t}\n\n\t\t\n\n\t\t/*BackendFactory().getTagAutocomplete({\n\t\t\ttag: \"hat\",\n\t\t\tfreetext: \"m\",\n\t\t})\n\t\t.then(res => {\n\t\t\tdispatch({ \n\t\t\t\ttype: GET_TAG_AUTOCOMPLETE_FULFILLED, \n\t\t\t\tpayload: res.data.tags,\n\t\t\t})\n\t\t})\n\t\t.catch(error => {\n\t\t\tdispatch({\n\t\t\t\ttype: GET_TAG_AUTOCOMPLETE_FULFILLED,\n\t\t\t\tpayload: error\n\t\t\t})\n\n\t\t})*/\n\t}\n}\n\nexport function getPortfolios(tags, pageIndex) {\n\treturn dispatch => {\n\t\tdispatch({ type: GET_PORTFOLIO })\n\n\t\t//alert(JSON.stringify(tags))\n\n\t\t//alert(tags.length + ' = ' + pageIndex)\n\t\tBackendFactory().getShowcaseByTags({\n\t\t\tpage: pageIndex,\n\t\t\ttags: tags\n\t\t}).then(res => {\n\t\t\t//alert(res.data.)\n\t\t\tdispatch({\n\t\t  \t\ttype: GET_PORTFOLIO_FULFILLED,\n\t\t  \t\tpayload: {\n\t\t  \t\t\tdata: res.data.showcases,\n\t\t  \t\t\tpageIndex: pageIndex,\n\t\t  \t\t\tpageLast: res.data.page_last,\n\t\t  \t\t\tpaginate: 8,\n\t\t  \t\t},\n\t\t  \t})\n\t\t}).catch(err => {\n\t\t\tconsole.log(err)\n\t\t})\t\n\n\t\t/*var temp = [{\n\t\t  \t\tid: 1,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/M-240.JPG',\n\t\t  \t\t\tratio: 1.62\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 2,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/c-41-copy.jpg',\n\t\t  \t\t\tratio: 1.9\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 3,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-225-copy.jpg',\n\t\t  \t\t\tratio: 1.1\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 4,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-224-copy.jpg',\n\t\t  \t\t\tratio: 3.4\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 5,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-226-copy.jpg',\n\t\t  \t\t\tratio: 2.9\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 6,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-227-copy.jpg',\n\t\t  \t\t\tratio: 1.1\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 7,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-235-copy.jpg',\n\t\t  \t\t\tratio: 2.7\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 8,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-236-copy.jpg',\n\t\t  \t\t\tratio: 1.5\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 9,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-237-copy.jpg',\n\t\t  \t\t\tratio: 1.5\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 10,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://ur-undrakh.com/files/images/20170106/EM/m-230-copy.jpg',\n\t\t  \t\t\tratio: 1.5\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 11,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-244-copy.jpg',\n\t\t  \t\t\tratio: 1.5\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 12,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/20170106/EM/m-247-copy.jpg',\n\t\t  \t\t\tratio: 1.5\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 13,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/201604/m-207.jpg',\n\t\t  \t\t\tratio: 1.5\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}, {\n\t\t  \t\tid: 14,\n\t\t  \t\ttitle: 'How to Create a Bangin Social',\n\t\t  \t\tcaption: 'Дээл нь Монголчуудын олон зуун жилийн турш өмсөж ирсэн ...',\n\t\t  \t\tcover: {\n\t\t  \t\t\turl: 'http://www.ur-undrakh.com/files/images/201604/m-209.jpg',\n\t\t  \t\t\tratio: 1.5\n\t\t  \t\t},\n\t\t  \t\tprice: 150000,\n\t\t  \t\ttags: [{\n\t\t  \t\t\tname: 'дээл',\n\t\t  \t\t}, {\n\t\t  \t\t\tname: 'гоёмсог'\n\t\t  \t\t}]\n\t\t  \t}]*/\n\n\t}\n}"]}]
["e9c83487846d2988692f17795d7b17075384fe6c","8b51efa4b05ce974fafbd43bab4bdb09d1baf2ad",["smart-mixin","object-assign"],[20,57],{"version":3,"sources":["/var/www/geruapp/node_modules/react-mixin/index.js"],"names":["mixin","require","assign","mixinProto","componentDidMount","MANY","componentWillMount","componentWillReceiveProps","shouldComponentUpdate","ONCE","componentWillUpdate","componentDidUpdate","componentWillUnmount","getChildContext","MANY_MERGED","setDefaultProps","reactMixin","getDefaultProps","defaultProps","setInitialState","getInitialState","applyInitialState","instance","state","call","mixinClass","reactClass","prototypeMethods","staticProps","Object","keys","forEach","key","prototype","mergePropTypes","left","right","result","leftKey","rightKey","checkBothContextTypes","apply","arguments","childContextTypes","contextTypes","propTypes","MANY_MERGED_LOOSE","statics","getOwnPropertyNames","undefined","TypeError","mixins","reverse","bind","module","exports","onClass","decorate"],"mappings":"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","sourcesContent":["var mixin = require('smart-mixin');\nvar assign = require('object-assign');\n\nvar mixinProto = mixin({\n  // lifecycle stuff is as you'd expect\n  componentDidMount: mixin.MANY,\n  componentWillMount: mixin.MANY,\n  componentWillReceiveProps: mixin.MANY,\n  shouldComponentUpdate: mixin.ONCE,\n  componentWillUpdate: mixin.MANY,\n  componentDidUpdate: mixin.MANY,\n  componentWillUnmount: mixin.MANY,\n  getChildContext: mixin.MANY_MERGED\n});\n\nfunction setDefaultProps(reactMixin) {\n  var getDefaultProps = reactMixin.getDefaultProps;\n\n  if (getDefaultProps) {\n    reactMixin.defaultProps = getDefaultProps();\n\n    delete reactMixin.getDefaultProps;\n  }\n}\n\nfunction setInitialState(reactMixin) {\n  var getInitialState = reactMixin.getInitialState;\n  var componentWillMount = reactMixin.componentWillMount;\n\n  function applyInitialState(instance) {\n    var state = instance.state || {};\n    assign(state, getInitialState.call(instance));\n    instance.state = state;\n  }\n\n  if (getInitialState) {\n    if (!componentWillMount) {\n      reactMixin.componentWillMount = function() {\n        applyInitialState(this);\n      };\n    } else {\n      reactMixin.componentWillMount = function() {\n        applyInitialState(this);\n        componentWillMount.call(this);\n      };\n    }\n\n    delete reactMixin.getInitialState;\n  }\n}\n\nfunction mixinClass(reactClass, reactMixin) {\n  setDefaultProps(reactMixin);\n  setInitialState(reactMixin);\n\n  var prototypeMethods = {};\n  var staticProps = {};\n\n  Object.keys(reactMixin).forEach(function(key) {\n    if (key === 'mixins') {\n      return; // Handled below to ensure proper order regardless of property iteration order\n    }\n    if (key === 'statics') {\n      return; // gets special handling\n    } else if (typeof reactMixin[key] === 'function') {\n      prototypeMethods[key] = reactMixin[key];\n    } else {\n      staticProps[key] = reactMixin[key];\n    }\n  });\n\n  mixinProto(reactClass.prototype, prototypeMethods);\n\n  var mergePropTypes = function(left, right, key) {\n    if (!left) return right;\n    if (!right) return left;\n\n    var result = {};\n    Object.keys(left).forEach(function(leftKey) {\n      if (!right[leftKey]) {\n        result[leftKey] = left[leftKey];\n      }\n    });\n\n    Object.keys(right).forEach(function(rightKey) {\n      if (left[rightKey]) {\n        result[rightKey] = function checkBothContextTypes() {\n          return right[rightKey].apply(this, arguments) && left[rightKey].apply(this, arguments);\n        };\n      } else {\n        result[rightKey] = right[rightKey];\n      }\n    });\n\n    return result;\n  };\n\n  mixin({\n    childContextTypes: mergePropTypes,\n    contextTypes: mergePropTypes,\n    propTypes: mixin.MANY_MERGED_LOOSE,\n    defaultProps: mixin.MANY_MERGED_LOOSE\n  })(reactClass, staticProps);\n\n  // statics is a special case because it merges directly onto the class\n  if (reactMixin.statics) {\n    Object.getOwnPropertyNames(reactMixin.statics).forEach(function(key) {\n      var left = reactClass[key];\n      var right = reactMixin.statics[key];\n\n      if (left !== undefined && right !== undefined) {\n        throw new TypeError('Cannot mixin statics because statics.' + key + ' and Component.' + key + ' are defined.');\n      }\n\n      reactClass[key] = left !== undefined ? left : right;\n    });\n  }\n\n  // If more mixins are defined, they need to run. This emulate's react's behavior.\n  // See behavior in code at:\n  // https://github.com/facebook/react/blob/41aa3496aa632634f650edbe10d617799922d265/src/isomorphic/classic/class/ReactClass.js#L468\n  // Note the .reverse(). In React, a fresh constructor is created, then all mixins are mixed in recursively,\n  // then the actual spec is mixed in last.\n  //\n  // With ES6 classes, the properties are already there, so smart-mixin mixes functions (a, b) -> b()a(), which is\n  // the opposite of how React does it. If we reverse this array, we basically do the whole logic in reverse,\n  // which makes the result the same. See the test for more.\n  // See also:\n  // https://github.com/facebook/react/blob/41aa3496aa632634f650edbe10d617799922d265/src/isomorphic/classic/class/ReactClass.js#L853\n  if (reactMixin.mixins) {\n    reactMixin.mixins.reverse().forEach(mixinClass.bind(null, reactClass));\n  }\n\n  return reactClass;\n}\n\nmodule.exports = (function() {\n  var reactMixin = mixinProto;\n\n  reactMixin.onClass = function(reactClass, mixin) {\n    // we mutate the mixin so let's clone it\n    mixin = assign({}, mixin);\n    return mixinClass(reactClass, mixin);\n  };\n\n  reactMixin.decorate = function(mixin) {\n    return function(reactClass) {\n      return reactMixin.onClass(reactClass, mixin);\n    };\n  };\n\n  return reactMixin;\n})();\n"]}]
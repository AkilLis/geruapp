["d769ed5dbbe9708c2ad2dba20d1c82f3ebb13b28","948b5723679262e6855a74e0dd76752917675b5c",["BatchedBridge","BugReporting","FrameRateLogger","NativeModules","ReactNative","infoLog","fbjs/lib/invariant","renderApplication","RCTRenderingPerf"],[44,89,136,184,228,267,303,358,406],{"version":3,"sources":["/var/www/geruapp/node_modules/react-native/Libraries/ReactNative/AppRegistry.js"],"names":["BatchedBridge","require","BugReporting","FrameRateLogger","NativeModules","ReactNative","infoLog","invariant","renderApplication","__DEV__","runnables","runCount","sections","tasks","Map","componentProviderInstrumentationHook","component","AppRegistry","registerConfig","config","forEach","appConfig","run","registerRunnable","appKey","registerComponent","section","appParameters","initialProps","rootTag","registerSection","getAppKeys","Object","keys","getSectionKeys","getSections","getRunnable","getRegistry","setComponentProviderInstrumentationHook","hook","runApplication","msg","JSON","stringify","String","addSource","setContext","unmountApplicationComponentAtRootTag","unmountComponentAtNodeAndRemoveContainer","registerHeadlessTask","taskKey","task","has","console","warn","set","startHeadlessTask","taskId","data","taskProvider","get","Error","then","HeadlessJsTaskSupport","notifyTaskFinished","catch","error","reason","registerCallableModule","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule AppRegistry\n * @flow\n */\n'use strict';\n\nconst BatchedBridge = require('BatchedBridge');\nconst BugReporting = require('BugReporting');\nconst FrameRateLogger = require('FrameRateLogger');\nconst NativeModules = require('NativeModules');\nconst ReactNative = require('ReactNative');\n\nconst infoLog = require('infoLog');\nconst invariant = require('fbjs/lib/invariant');\nconst renderApplication = require('renderApplication');\n\nif (__DEV__) {\n  // In order to use Cmd+P to record/dump perf data, we need to make sure\n  // this module is available in the bundle\n  require('RCTRenderingPerf');\n}\n\ntype Task = (taskData: any) => Promise<void>;\ntype TaskProvider = () => Task;\nexport type ComponentProvider = () => ReactClass<any>;\nexport type ComponentProviderInstrumentationHook =\n  (component: ComponentProvider) => ReactClass<any>;\nexport type AppConfig = {\n  appKey: string,\n  component?: ComponentProvider,\n  run?: Function,\n  section?: boolean,\n};\nexport type Runnable = {\n  component?: ComponentProvider,\n  run: Function,\n};\nexport type Runnables = {\n  [appKey: string]: Runnable,\n};\nexport type Registry = {\n  sections: Array<string>,\n  runnables: Runnables,\n};\n\nconst runnables: Runnables = {};\nlet runCount = 1;\nconst sections: Runnables = {};\nconst tasks: Map<string, TaskProvider> = new Map();\nlet componentProviderInstrumentationHook: ComponentProviderInstrumentationHook =\n  (component: ComponentProvider) => component();\n\n/**\n * `AppRegistry` is the JS entry point to running all React Native apps.  App\n * root components should register themselves with\n * `AppRegistry.registerComponent`, then the native system can load the bundle\n * for the app and then actually run the app when it's ready by invoking\n * `AppRegistry.runApplication`.\n *\n * To \"stop\" an application when a view should be destroyed, call\n * `AppRegistry.unmountApplicationComponentAtRootTag` with the tag that was\n * passed into `runApplication`. These should always be used as a pair.\n *\n * `AppRegistry` should be `require`d early in the `require` sequence to make\n * sure the JS execution environment is setup before other modules are\n * `require`d.\n */\nconst AppRegistry = {\n  registerConfig(config: Array<AppConfig>): void {\n    config.forEach((appConfig) => {\n      if (appConfig.run) {\n        AppRegistry.registerRunnable(appConfig.appKey, appConfig.run);\n      } else {\n        invariant(\n          appConfig.component != null,\n          'AppRegistry.registerConfig(...): Every config is expected to set ' +\n          'either `run` or `component`, but `%s` has neither.',\n          appConfig.appKey\n        );\n        AppRegistry.registerComponent(\n          appConfig.appKey,\n          appConfig.component,\n          appConfig.section,\n        );\n      }\n    });\n  },\n\n  registerComponent(\n    appKey: string,\n    component: ComponentProvider,\n    section?: boolean,\n  ): string {\n    runnables[appKey] = {\n      component,\n      run: (appParameters) =>\n        renderApplication(\n          componentProviderInstrumentationHook(component),\n          appParameters.initialProps,\n          appParameters.rootTag\n        )\n    };\n    if (section) {\n      sections[appKey] = runnables[appKey];\n    }\n    return appKey;\n  },\n\n  registerRunnable(appKey: string, run: Function): string {\n    runnables[appKey] = {run};\n    return appKey;\n  },\n\n  registerSection(appKey: string, component: ComponentProvider): void {\n    AppRegistry.registerComponent(appKey, component, true);\n  },\n\n  getAppKeys(): Array<string> {\n    return Object.keys(runnables);\n  },\n\n  getSectionKeys(): Array<string> {\n    return Object.keys(sections);\n  },\n\n  getSections(): Runnables {\n    return {\n      ...sections\n    };\n  },\n\n  getRunnable(appKey: string): ?Runnable {\n    return runnables[appKey];\n  },\n\n  getRegistry(): Registry {\n    return {\n      sections: AppRegistry.getSectionKeys(),\n      runnables: {...runnables},\n    };\n  },\n\n  setComponentProviderInstrumentationHook(hook: ComponentProviderInstrumentationHook) {\n    componentProviderInstrumentationHook = hook;\n  },\n\n  runApplication(appKey: string, appParameters: any): void {\n    const msg =\n      'Running application \"' + appKey + '\" with appParams: ' +\n      JSON.stringify(appParameters) + '. ' +\n      '__DEV__ === ' + String(__DEV__) +\n      ', development-level warning are ' + (__DEV__ ? 'ON' : 'OFF') +\n      ', performance optimizations are ' + (__DEV__ ? 'OFF' : 'ON');\n    infoLog(msg);\n    BugReporting.addSource('AppRegistry.runApplication' + runCount++, () => msg);\n    invariant(\n      runnables[appKey] && runnables[appKey].run,\n      'Application ' + appKey + ' has not been registered.\\n\\n' +\n      'Hint: This error often happens when you\\'re running the packager ' +\n      '(local dev server) from a wrong folder. For example you have ' +\n      'multiple apps and the packager is still running for the app you ' +\n      'were working on before.\\nIf this is the case, simply kill the old ' +\n      'packager instance (e.g. close the packager terminal window) ' +\n      'and start the packager in the correct app folder (e.g. cd into app ' +\n      'folder and run \\'npm start\\').\\n\\n' +\n      'This error can also happen due to a require() error during ' +\n      'initialization or failure to call AppRegistry.registerComponent.\\n\\n'\n    );\n    FrameRateLogger.setContext(appKey);\n    runnables[appKey].run(appParameters);\n  },\n\n  unmountApplicationComponentAtRootTag(rootTag: number): void {\n    ReactNative.unmountComponentAtNodeAndRemoveContainer(rootTag);\n  },\n\n  /**\n   * Register a headless task. A headless task is a bit of code that runs without a UI.\n   * @param taskKey the key associated with this task\n   * @param task    a promise returning function that takes some data passed from the native side as\n   *                the only argument; when the promise is resolved or rejected the native side is\n   *                notified of this event and it may decide to destroy the JS context.\n   */\n  registerHeadlessTask(taskKey: string, task: TaskProvider): void {\n    if (tasks.has(taskKey)) {\n      console.warn(`registerHeadlessTask called multiple times for same key '${taskKey}'`);\n    }\n    tasks.set(taskKey, task);\n  },\n\n  /**\n   * Only called from native code. Starts a headless task.\n   *\n   * @param taskId the native id for this task instance to keep track of its execution\n   * @param taskKey the key for the task to start\n   * @param data the data to pass to the task\n   */\n  startHeadlessTask(taskId: number, taskKey: string, data: any): void {\n    const taskProvider = tasks.get(taskKey);\n    if (!taskProvider) {\n      throw new Error(`No task registered for key ${taskKey}`);\n    }\n    taskProvider()(data)\n      .then(() => NativeModules.HeadlessJsTaskSupport.notifyTaskFinished(taskId))\n      .catch(reason => {\n        console.error(reason);\n        NativeModules.HeadlessJsTaskSupport.notifyTaskFinished(taskId);\n      });\n  }\n\n};\n\nBatchedBridge.registerCallableModule(\n  'AppRegistry',\n  AppRegistry\n);\n\nmodule.exports = AppRegistry;\n"]}]
["a121375ddb8443120ea12700a6bdd1ef1d25da82","012aa146289e9a3718a5ab330b5c9f1f18ec0643",["tcomb"],[31],{"version":3,"sources":["/var/www/geruapp/node_modules/tcomb-validation/index.js"],"names":["t","require","stringify","noobj","ValidationError","struct","message","Any","actual","expected","path","list","union","String","Number","getDefaultValidationErrorMessage","expectedName","getTypeName","to","length","join","getValidationErrorMessage","context","Function","is","of","ValidationResult","errors","value","prototype","isValid","firstError","toString","map","err","validate","x","type","options","Array","recurse","isType","validators","meta","kind","es6classes","validateES6Classes","irreducible","enums","validateIrreducible","validateList","ret","i","len","item","concat","subtype","validateSubtype","predicate","maybe","validateMaybe","Nil","validateStruct","Object","props","defaultProps","name","hasOwnProperty","undefined","prop","strict","field","push","tuple","validateTuple","types","dict","validateDict","k","subpath","key","domain","codomain","validateUnion","ctor","dispatch","indexOf","intersection","validateIntersection","nrOfStructs","validateInterface","mixin","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar t = require('tcomb');\nvar stringify = t.stringify;\n\nvar noobj = {};\n\nvar ValidationError = t.struct({\n  message: t.Any,\n  actual: t.Any,\n  expected: t.Any,\n  path: t.list(t.union([t.String, t.Number]))\n}, 'ValidationError');\n\nfunction getDefaultValidationErrorMessage(actual, expected, path) {\n  var expectedName = t.getTypeName(expected);\n  var to = path.length ? '/' + path.join('/') + ': ' + expectedName : expectedName;\n  return 'Invalid value ' + stringify(actual) + ' supplied to ' + to;\n}\n\nfunction getValidationErrorMessage(actual, expected, path, context) {\n  if (t.Function.is(expected.getValidationErrorMessage)) {\n    return expected.getValidationErrorMessage(actual, path, context);\n  }\n  else {\n    return getDefaultValidationErrorMessage(actual, expected, path);\n  }\n}\n\nValidationError.of = function (actual, expected, path, context) {\n  return new ValidationError({\n    message: getValidationErrorMessage(actual, expected, path, context),\n    actual: actual,\n    expected: expected,\n    path: path\n  });\n};\n\nvar ValidationResult = t.struct({\n  errors: t.list(ValidationError),\n  value: t.Any\n}, 'ValidationResult');\n\nValidationResult.prototype.isValid = function () {\n  return !(this.errors.length);\n};\n\nValidationResult.prototype.firstError = function () {\n  return this.isValid() ? null : this.errors[0];\n};\n\nValidationResult.prototype.toString = function () {\n  if (this.isValid()) {\n    return '[ValidationResult, true, ' + stringify(this.value) + ']';\n  }\n  else {\n    return '[ValidationResult, false, (' + this.errors.map(function (err) {\n      return stringify(err.message);\n    }).join(', ') + ')]';\n  }\n};\n\nfunction validate(x, type, options) {\n  options = options || {};\n  var path = t.Array.is(options) ? options : options.path || [];\n  return new ValidationResult(recurse(x, type, path, options));\n}\n\nfunction recurse(x, type, path, options) {\n  if (t.isType(type)) {\n    return validators[type.meta.kind](x, type, path, options);\n  }\n  else {\n    return validators.es6classes(x, type, path, options);\n  }\n}\n\nvar validators = validate.validators = {};\n\nvalidators.es6classes = function validateES6Classes(x, type, path, options) {\n  return {\n    value: x,\n    errors: x instanceof type ? [] : [ValidationError.of(x, type, path, options.context)]\n  };\n};\n\n// irreducibles and enums\nvalidators.irreducible =\nvalidators.enums = function validateIrreducible(x, type, path, options) {\n  return {\n    value: x,\n    errors: type.is(x) ? [] : [ValidationError.of(x, type, path, options.context)]\n  };\n};\n\nvalidators.list = function validateList(x, type, path, options) {\n\n  // x should be an array\n  if (!t.Array.is(x)) {\n    return {value: x, errors: [ValidationError.of(x, type, path, options.context)]};\n  }\n\n  var ret = {value: [], errors: []};\n  // every item should be of type `type.meta.type`\n  for (var i = 0, len = x.length; i < len; i++ ) {\n    var item = recurse(x[i], type.meta.type, path.concat(i), options);\n    ret.value[i] = item.value;\n    ret.errors = ret.errors.concat(item.errors);\n  }\n  return ret;\n};\n\nvalidators.subtype = function validateSubtype(x, type, path, options) {\n\n  // x should be a valid inner type\n  var ret = recurse(x, type.meta.type, path, options);\n  if (ret.errors.length) {\n    return ret;\n  }\n\n  // x should satisfy the predicate\n  if (!type.meta.predicate(ret.value)) {\n    ret.errors = [ValidationError.of(x, type, path, options.context)];\n  }\n\n  return ret;\n\n};\n\nvalidators.maybe = function validateMaybe(x, type, path, options) {\n  return t.Nil.is(x) ?\n    {value: x, errors: []} :\n    recurse(x, type.meta.type, path, options);\n};\n\nvalidators.struct = function validateStruct(x, type, path, options) {\n\n  // x should be an object\n  if (!t.Object.is(x)) {\n    return {value: x, errors: [ValidationError.of(x, type, path, options.context)]};\n  }\n\n  // [optimization]\n  if (type.is(x)) {\n    return {value: x, errors: []};\n  }\n\n  var ret = {value: {}, errors: []};\n  var props = type.meta.props;\n  var defaultProps = type.meta.defaultProps || noobj;\n  // every item should be of type `props[name]`\n  for (var name in props) {\n    if (props.hasOwnProperty(name)) {\n      var actual = x[name];\n      // apply defaults\n      if (actual === undefined) {\n        actual = defaultProps[name];\n      }\n      var prop = recurse(actual, props[name], path.concat(name), options);\n      ret.value[name] = prop.value;\n      ret.errors = ret.errors.concat(prop.errors);\n    }\n  }\n  var strict = options.hasOwnProperty('strict') ? options.strict : type.meta.strict;\n  if (strict) {\n    for (var field in x) {\n      if (x.hasOwnProperty(field) && !props.hasOwnProperty(field)) {\n        ret.errors.push(ValidationError.of(x[field], t.Nil, path.concat(field), options.context));\n      }\n    }\n  }\n  if (!ret.errors.length) {\n    ret.value = new type(ret.value);\n  }\n  return ret;\n};\n\nvalidators.tuple = function validateTuple(x, type, path, options) {\n\n  var types = type.meta.types;\n  var len = types.length;\n\n  // x should be an array of at most `len` items\n  if (!t.Array.is(x) || x.length > len) {\n    return {value: x, errors: [ValidationError.of(x, type, path, options.context)]};\n  }\n\n  var ret = {value: [], errors: []};\n  // every item should be of type `types[i]`\n  for (var i = 0; i < len; i++) {\n    var item = recurse(x[i], types[i], path.concat(i), options);\n    ret.value[i] = item.value;\n    ret.errors = ret.errors.concat(item.errors);\n  }\n  return ret;\n};\n\nvalidators.dict = function validateDict(x, type, path, options) {\n\n  // x should be an object\n  if (!t.Object.is(x)) {\n    return {value: x, errors: [ValidationError.of(x, type, path, options.context)]};\n  }\n\n  var ret = {value: {}, errors: []};\n  // every key should be of type `domain`\n  // every value should be of type `codomain`\n  for (var k in x) {\n    if (x.hasOwnProperty(k)) {\n      var subpath = path.concat(k);\n      var key = recurse(k, type.meta.domain, subpath, options);\n      var item = recurse(x[k], type.meta.codomain, subpath, options);\n      ret.value[k] = item.value;\n      ret.errors = ret.errors.concat(key.errors, item.errors);\n    }\n  }\n  return ret;\n};\n\nvalidators.union = function validateUnion(x, type, path, options) {\n  var ctor = type.dispatch(x);\n  return t.Function.is(ctor) ?\n    recurse(x, ctor, path.concat(type.meta.types.indexOf(ctor)), options) :\n    {value: x, errors: [ValidationError.of(x, type, path, options.context)]};\n};\n\nvalidators.intersection = function validateIntersection(x, type, path, options) {\n\n  var types = type.meta.types;\n  var len = types.length;\n\n  var ret = {value: x, errors: []};\n  var nrOfStructs = 0;\n  // x should be of type `types[i]` for all i\n  for (var i = 0; i < len; i++) {\n    if (types[i].meta.kind === 'struct') {\n      nrOfStructs++;\n    }\n    var item = recurse(x, types[i], path, options);\n    ret.errors = ret.errors.concat(item.errors);\n  }\n  if (nrOfStructs > 1) {\n    ret.errors.push(ValidationError.of(x, type, path, options.context));\n  }\n  return ret;\n};\n\nvalidators['interface'] = function validateInterface(x, type, path, options) { // eslint-disable-line dot-notation\n\n  // x should be an object\n  if (!t.Object.is(x)) {\n    return {value: x, errors: [ValidationError.of(x, type, path, options.context)]};\n  }\n\n  var ret = {value: {}, errors: []};\n  var props = type.meta.props;\n  // every item should be of type `props[name]`\n  for (var name in props) {\n    var prop = recurse(x[name], props[name], path.concat(name), options);\n    ret.value[name] = prop.value;\n    ret.errors = ret.errors.concat(prop.errors);\n  }\n  var strict = options.hasOwnProperty('strict') ? options.strict : type.meta.strict;\n  if (strict) {\n    for (var field in x) {\n      if (!props.hasOwnProperty(field) && !t.Nil.is(x[field])) {\n        ret.errors.push(ValidationError.of(x[field], t.Nil, path.concat(field), options.context));\n      }\n    }\n  }\n  return ret;\n};\n\nt.mixin(t, {\n  ValidationError: ValidationError,\n  ValidationResult: ValidationResult,\n  validate: validate\n});\n\nmodule.exports = t;\n"]}]
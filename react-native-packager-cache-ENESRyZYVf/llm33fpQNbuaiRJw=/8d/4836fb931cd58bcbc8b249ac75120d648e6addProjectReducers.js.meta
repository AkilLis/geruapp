["32a839496e9b50d86bbd8aeee4131950fbe518c9","380fbc4eab296505b2ec4eaaed09a8bdd77fd75f",["../ProjectConstants","../ProjectInitial"],[124,179],{"version":3,"sources":["/var/www/geruapp/src/project/reducers/ProjectReducers.js"],"names":["project","initialState","state","action","type","fetching","setIn","error","response","payload","pageLast","data","fullData","getIn","concat","nextState","index","indexOf","id","seen","name","description","min_amount","max_amount","duration_type","duration_length","bid_count","time_left","avg_amount","skills"],"mappings":";;;kBAgBwBA,O;;AAhBxB;;AAYA;;;;AAEA,IAAMC,eAAe,8BAArB;;AAEe,SAASD,OAAT,GAA+C;AAAA,KAA9BE,KAA8B,uEAAtBD,YAAsB;AAAA,KAARE,MAAQ;;;AAE7D,SAAQA,OAAOC,IAAf;AACC;AAAgB;AACf,oCACIF,KADJ;AAECG,eAAW;AAFZ;AAIA;;AAED;AAAgC;AAC/B,WAAOH,MAAMI,KAAN,CAAY,CAAC,kBAAD,EAAqB,UAArB,CAAZ,EAA8C,IAA9C,CAAP;AACA;;AAED;AAAuC;AACtC,oCAAWJ,KAAX,IAAkBG,UAAU,KAA5B,EAAmCE,OAAOJ,OAAOK,QAAjD;AACA;;AAED;AAA0C;AAAA,0BAEhBL,OAAOM,OAFS;AAAA,QAEnCC,QAFmC,mBAEnCA,QAFmC;AAAA,QAEzBC,IAFyB,mBAEzBA,IAFyB;;AAGzC,QAAIC,WAAWV,MAAMW,KAAN,CAAY,CAAC,kBAAD,EAAqB,UAArB,CAAZ,CAAf;AACAD,eAAWA,SAASE,MAAT,CAAgBH,IAAhB,CAAX;;AAEA,QAAII,YAAYb,MAAMI,KAAN,CAAY,CAAC,kBAAD,EAAqB,MAArB,CAAZ,EAA0CK,IAA1C,EACTL,KADS,CACH,CAAC,kBAAD,EAAqB,UAArB,CADG,EAC+BM,QAD/B,EAETN,KAFS,CAEH,CAAC,kBAAD,EAAqB,UAArB,CAFG,EAE+BI,QAF/B,EAGTJ,KAHS,CAGH,CAAC,kBAAD,EAAqB,UAArB,CAHG,EAG+B,KAH/B,CAAhB;AAIA,WAAOS,SAAP;AACA;;AAED;AAA2B;;AAE1B,QAAIH,WAAWV,MAAMW,KAAN,CAAY,CAAC,kBAAD,EAAqB,UAArB,CAAZ,CAAf;AACA,QAAIb,UAAUG,OAAOM,OAArB;;AAEA,QAAIO,QAAQJ,SAASK,OAAT,CAAiBjB,OAAjB,CAAZ;;AAEAY,aAASI,KAAT,IAAkB;AACjBE,SAAIlB,QAAQkB,EADK;AAEjBb,eAAU,KAFO;AAGjBc,WAAM,IAHW;AAIjBC,WAAMpB,QAAQoB,IAJG;AAKjBC,kBAAarB,QAAQqB,WALJ;AAMdC,iBAAYtB,QAAQsB,UANN;AAOdC,iBAAYvB,QAAQuB,UAPN;;AASdC,oBAAe,KATD;AAUdC,sBAAiB,CAVH;AAWdC,gBAAW,EAXG;AAYdC,gBAAW,4BAZG;;AAcdC,iBAAY,QAdE;AAedC,aAAQ,CAAC;AACRX,UAAI,CADI;AAERE,YAAM;AAFE,MAAD,EAGL;AACFF,UAAI,CADF;AAEFE,YAAM;AAFJ,MAHK,EAML;AACFF,UAAI,CADF;AAEFE,YAAM;AAFJ,MANK;AAfM,KAAlB;;AA2BA,WAAOlB,MAAMI,KAAN,CAAY,CAAC,iBAAD,EAAoB,OAApB,CAAZ,EAA0CU,KAA1C,EACGV,KADH,CACS,CAAC,iBAAD,EAAoB,SAApB,CADT,EACyCN,OADzC,EAEGM,KAFH,CAES,CAAC,kBAAD,EAAqB,UAArB,CAFT,EAE2CM,QAF3C,CAAP;AAGA;;AAED;AAA6B,IAE5B;;AAED;AAA0B,IAEzB;AA1EF;;AA6EA,QAAOV,KAAP;AACA","sourcesContent":["import { \n\tFETCHING,\n\tGET_PROJECTS_WITH_SKILLS,\n\tGET_PROJECTS_WITH_SKILLS_FAILED,\n\tGET_PROJECTS_WITH_SKILLS_FULFILLED,\n\n\tSAVE_PROJECT_FULFILLED,\n\tSAVE_PROJECT_FAILED,\n\n\tSET_SELECTED_PROJECT,\n} from '../ProjectConstants'\n\nimport InitialState from '../ProjectInitial'\n\nconst initialState = new InitialState()\n\nexport default function project(state = initialState, action) {\n\n\tswitch (action.type) {\n\t\tcase FETCHING : {\n\t\t\treturn {\n\t\t\t\t...state, \n\t\t\t\tfetching : true,\n\t\t\t}\n\t\t}\n\n\t\tcase GET_PROJECTS_WITH_SKILLS : {\n\t\t\treturn state.setIn(['filteredProjects', 'fetching'], true)\n\t\t}\n\n\t\tcase GET_PROJECTS_WITH_SKILLS_FAILED : {\n\t\t\treturn {...state, fetching: false, error: action.response}\n\t\t}\n\n\t\tcase GET_PROJECTS_WITH_SKILLS_FULFILLED : {\n\n\t\t\tvar { pageLast, data } = action.payload\n\t\t\tvar fullData = state.getIn(['filteredProjects', 'fullData'])\n\t\t\tfullData = fullData.concat(data)\n\n\t\t\tlet nextState = state.setIn(['filteredProjects', 'data'], data)\n\t\t\t\t\t\t\t\t .setIn(['filteredProjects', 'fullData'], fullData)\n\t\t\t\t\t\t\t\t .setIn(['filteredProjects', 'pageLast'], pageLast)\n\t\t\t\t\t\t\t\t .setIn(['filteredProjects', 'fetching'], false)\n\t\t\treturn nextState\n\t\t}\n\n\t\tcase SET_SELECTED_PROJECT: {\n\n\t\t\tvar fullData = state.getIn(['filteredProjects', 'fullData'])\n\t\t\tvar project = action.payload\n\n\t\t\tlet index = fullData.indexOf(project)\n\n\t\t\tfullData[index] = {\n\t\t\t\tid: project.id,\n\t\t\t\tfetching: false,\n\t\t\t\tseen: true,\n\t\t\t\tname: project.name,\n\t\t\t\tdescription: project.description,\n\t\t\t    min_amount: project.min_amount,\n\t\t\t    max_amount: project.max_amount,\n\t\t\t    \n\t\t\t    duration_type: 'day',\n\t\t\t    duration_length: 5,\n\t\t\t    bid_count: 17,\n\t\t\t    time_left: '2017-03-16 23:41:34.000000',\n\n\t\t\t    avg_amount: '120000',\n\t\t\t    skills: [{\n\t\t\t    \tid: 1,\n\t\t\t    \tname: 'шилбэ хадах',\n\t\t\t    }, {\n\t\t\t    \tid: 2,\n\t\t\t    \tname: 'исгэх',\n\t\t\t    }, {\n\t\t\t    \tid: 3,\n\t\t\t    \tname: 'оёх',\n\t\t\t    }],\n\t\t\t}\n\n\t\t\treturn state.setIn(['selectedProject', 'index'], index)\n\t\t\t\t        .setIn(['selectedProject', 'project'], project)\n\t\t\t\t        .setIn(['filteredProjects', 'fullData'], fullData)\n\t\t}\n\n\t\tcase SAVE_PROJECT_FULFILLED: {\n\n\t\t}\n\n\t\tcase SAVE_PROJECT_FAILED: {\n\t\t\t\n\t\t}\n\t}\n\n\treturn state\n}"]}]
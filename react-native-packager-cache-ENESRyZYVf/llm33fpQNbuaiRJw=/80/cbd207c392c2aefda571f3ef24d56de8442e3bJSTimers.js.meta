["39a77710b931fd82b562414cae34e5d9f29ede92","55f13e3920149a4743acda6fe65d561eed6b9e95",["JSTimersExecution","Platform","NativeModules","parseErrorStack"],[48,93,130,674],{"version":3,"sources":["/var/www/geruapp/node_modules/react-native/Libraries/Core/Timers/JSTimers.js"],"names":["JSTimersExecution","require","Platform","Timing","_getFreeIndex","freeIndex","timerIDs","indexOf","length","_allocateCallback","func","type","id","GUID","callbacks","types","__DEV__","parseErrorStack","e","Error","framesToPop","stack","identifiers","shift","_freeCallback","timerID","index","_clearIndex","deleteTimer","MAX_TIMER_DURATION_MS","IS_ANDROID","OS","ANDROID_LONG_TIMER_MESSAGE","JSTimers","setTimeout","duration","args","console","warn","apply","undefined","createTimer","Date","now","setInterval","setImmediate","immediates","push","requestAnimationFrame","requestIdleCallback","requestIdleCallbacks","setSendIdleEvents","cancelIdleCallback","splice","clearTimeout","clearInterval","clearImmediate","cancelAnimationFrame","module","exports"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule JSTimers\n * @flow\n */\n'use strict';\n\n// Note that the module JSTimers is split into two in order to solve a cycle\n// in dependencies. NativeModules > BatchedBridge > MessageQueue > JSTimersExecution\nconst JSTimersExecution = require('JSTimersExecution');\nconst Platform = require('Platform');\n\nconst {Timing} = require('NativeModules');\n\nimport type {JSTimerType} from 'JSTimersExecution';\n\n// Returns a free index if one is available, and the next consecutive index otherwise.\nfunction _getFreeIndex(): number {\n  let freeIndex = JSTimersExecution.timerIDs.indexOf(null);\n  if (freeIndex === -1) {\n    freeIndex = JSTimersExecution.timerIDs.length;\n  }\n  return freeIndex;\n}\n\nfunction _allocateCallback(func: Function, type: JSTimerType): number {\n  const id = JSTimersExecution.GUID++;\n  const freeIndex = _getFreeIndex();\n  JSTimersExecution.timerIDs[freeIndex] = id;\n  JSTimersExecution.callbacks[freeIndex] = func;\n  JSTimersExecution.types[freeIndex] = type;\n  if (__DEV__) {\n    const parseErrorStack = require('parseErrorStack');\n    const e = (new Error() : any);\n    e.framesToPop = 1;\n    const stack = parseErrorStack(e);\n    if (stack) {\n      JSTimersExecution.identifiers[freeIndex] = stack.shift();\n    }\n  }\n  return id;\n}\n\nfunction _freeCallback(timerID: number) {\n  // JSTimersExecution.timerIDs contains nulls after timers have been removed;\n  // ignore nulls upfront so indexOf doesn't find them\n  if (timerID == null) {\n    return;\n  }\n\n  const index = JSTimersExecution.timerIDs.indexOf(timerID);\n  // See corresponding comment in `callTimers` for reasoning behind this\n  if (index !== -1) {\n    JSTimersExecution._clearIndex(index);\n    const type = JSTimersExecution.types[index];\n    if (type !== 'setImmediate' && type !== 'requestIdleCallback') {\n      Timing.deleteTimer(timerID);\n    }\n  }\n}\n\nconst MAX_TIMER_DURATION_MS = 60 * 1000;\nconst IS_ANDROID = Platform.OS === 'android';\nconst ANDROID_LONG_TIMER_MESSAGE =\n  'Setting a timer for a long period of time, i.e. multiple minutes, is a ' +\n  'performance and correctness issue on Android as it keeps the timer ' +\n  'module awake, and timers can only be called when the app is in the foreground. ' +\n  'See https://github.com/facebook/react-native/issues/12981 for more info.';\n\n/**\n * JS implementation of timer functions. Must be completely driven by an\n * external clock signal, all that's stored here is timerID, timer type, and\n * callback.\n */\nconst JSTimers = {\n  /**\n   * @param {function} func Callback to be invoked after `duration` ms.\n   * @param {number} duration Number of milliseconds.\n   */\n  setTimeout: function(func: Function, duration: number, ...args?: any): number {\n    if (__DEV__ && IS_ANDROID && duration > MAX_TIMER_DURATION_MS) {\n      console.warn(\n          ANDROID_LONG_TIMER_MESSAGE + '\\n' + '(Saw setTimeout with duration ' +\n          duration + 'ms)');\n    }\n    const id = _allocateCallback(() => func.apply(undefined, args), 'setTimeout');\n    Timing.createTimer(id, duration || 0, Date.now(), /* recurring */ false);\n    return id;\n  },\n\n  /**\n   * @param {function} func Callback to be invoked every `duration` ms.\n   * @param {number} duration Number of milliseconds.\n   */\n  setInterval: function(func: Function, duration: number, ...args?: any): number {\n    if (__DEV__ && IS_ANDROID && duration > MAX_TIMER_DURATION_MS) {\n      console.warn(\n          ANDROID_LONG_TIMER_MESSAGE + '\\n' + '(Saw setInterval with duration ' +\n          duration + 'ms)');\n    }\n    const id = _allocateCallback(() => func.apply(undefined, args), 'setInterval');\n    Timing.createTimer(id, duration || 0, Date.now(), /* recurring */ true);\n    return id;\n  },\n\n  /**\n   * @param {function} func Callback to be invoked before the end of the\n   * current JavaScript execution loop.\n   */\n  setImmediate: function(func: Function, ...args?: any) {\n    const id = _allocateCallback(() => func.apply(undefined, args), 'setImmediate');\n    JSTimersExecution.immediates.push(id);\n    return id;\n  },\n\n  /**\n   * @param {function} func Callback to be invoked every frame.\n   */\n  requestAnimationFrame: function(func : Function) {\n    const id = _allocateCallback(func, 'requestAnimationFrame');\n    Timing.createTimer(id, 1, Date.now(), /* recurring */ false);\n    return id;\n  },\n\n  /**\n   * @param {function} func Callback to be invoked every frame and provided\n   * with time remaining in frame.\n   */\n  requestIdleCallback: function(func : Function) {\n    if (JSTimersExecution.requestIdleCallbacks.length === 0) {\n      Timing.setSendIdleEvents(true);\n    }\n\n    const id = _allocateCallback(func, 'requestIdleCallback');\n    JSTimersExecution.requestIdleCallbacks.push(id);\n    return id;\n  },\n\n  cancelIdleCallback: function(timerID: number) {\n    _freeCallback(timerID);\n    const index = JSTimersExecution.requestIdleCallbacks.indexOf(timerID);\n    if (index !== -1) {\n      JSTimersExecution.requestIdleCallbacks.splice(index, 1);\n    }\n\n    if (JSTimersExecution.requestIdleCallbacks.length === 0) {\n      Timing.setSendIdleEvents(false);\n    }\n  },\n\n  clearTimeout: function(timerID: number) {\n    _freeCallback(timerID);\n  },\n\n  clearInterval: function(timerID: number) {\n    _freeCallback(timerID);\n  },\n\n  clearImmediate: function(timerID: number) {\n    _freeCallback(timerID);\n    const index = JSTimersExecution.immediates.indexOf(timerID);\n    if (index !== -1) {\n      JSTimersExecution.immediates.splice(index, 1);\n    }\n  },\n\n  cancelAnimationFrame: function(timerID: number) {\n    _freeCallback(timerID);\n  },\n};\n\nmodule.exports = JSTimers;\n"]}]